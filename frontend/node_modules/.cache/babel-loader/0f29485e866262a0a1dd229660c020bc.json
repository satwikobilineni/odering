{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"Register\",\n\n  data() {\n    return {\n      registerObj: {\n        name: \"\",\n        email: \"\",\n        pass: \"\",\n        confirm: \"\",\n        phone: \"\",\n        birth: \"\",\n        gender: \"\"\n      },\n      errorObj: {\n        nameErr: [],\n        emailErr: [],\n        passErr: [],\n        confirmErr: [],\n        phoneErr: [],\n        birthErr: [],\n        genderErr: []\n      },\n      matchUser: undefined\n    };\n  },\n\n  methods: {\n    async getMatchUser(email) {\n      let data = await axios.get('/users/' + email);\n      this.matchUser = data.data;\n    },\n\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    },\n\n    availableTime: function () {\n      var now = new Date();\n      var day = (\"0\" + now.getDate()).slice(-2);\n      var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\n      var minRange = now.getFullYear() - 150 + \"-\" + currentMonth + \"-\" + day;\n      var maxRange = now.getFullYear() + \"-\" + currentMonth + \"-\" + day;\n      document.getElementById(\"uBirth\").setAttribute(\"min\", minRange);\n      document.getElementById(\"uBirth\").setAttribute(\"max\", maxRange);\n    },\n    resetCheckErr: function () {\n      this.errorObj.nameErr = [];\n      this.errorObj.emailErr = [];\n      this.errorObj.passErr = [];\n      this.errorObj.confirmErr = [];\n      this.errorObj.phoneErr = [];\n      this.errorObj.birthErr = [];\n      this.errorObj.genderErr = [];\n    },\n    checkEmptyErr: function () {\n      for (var typeErr in this.errorObj) {\n        if (this.errorObj[typeErr].length != 0) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    checkForm: function () {\n      this.resetCheckErr(); // Name validate\n\n      if (!this.registerObj.name) {\n        this.errorObj.nameErr.push(\"Entering a name is required\");\n      } else {\n        if (!/^[A-Za-z]+$/.test(this.registerObj.name.replace(/\\s/g, \"\"))) {\n          this.errorObj.nameErr.push('A name can only contain letters');\n        }\n      } // Email validate\n\n\n      if (!this.registerObj.email) {\n        this.errorObj.emailErr.push(\"Entering a email is required\");\n      } else {\n        if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.registerObj.email)) {\n          this.errorObj.emailErr.push('Email must be valid');\n        }\n      } // Pass validate\n\n\n      if (!this.registerObj.pass) {\n        this.errorObj.passErr.push('Password is required');\n      } else {\n        if (!/[!@#$%^&*]/.test(this.registerObj.pass)) {\n          this.errorObj.passErr.push('Password must contain at least 1 special character');\n        }\n\n        if (this.registerObj.pass.length < 8) {\n          this.errorObj.passErr.push('Password must be more than or equal 8 characters');\n        }\n      } // Confirm Pass validate\n\n\n      if (!this.registerObj.confirm) {\n        this.errorObj.confirmErr.push('Confirm password is required');\n      } else {\n        if (this.registerObj.pass !== this.registerObj.confirm) {\n          this.errorObj.confirmErr.push('Confirm password must be match with password');\n        }\n      } // Phone validate\n\n\n      if (!this.registerObj.phone) {\n        this.errorObj.phoneErr.push('Entering phone number is required');\n      } else {\n        if (!this.registerObj.phone.startsWith('84')) {\n          this.errorObj.phoneErr.push('Phone numbers must start with 84');\n        }\n\n        if (this.registerObj.phone.length != 11) {\n          this.errorObj.phoneErr.push('Phone numbers must have exactly 11 digits');\n        }\n\n        if (!/[0-9]{11}/.test(this.registerObj.phone)) {\n          this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\n        }\n      } // Birth validate\n\n\n      if (!this.registerObj.birth) {\n        this.errorObj.birthErr.push(\"Entering birthday is required\");\n      } else {\n        let minRange = document.getElementById(\"uBirth\").getAttribute(\"min\");\n        let maxRange = document.getElementById(\"uBirth\").getAttribute(\"max\");\n        let dateMin = new Date(minRange);\n        let dateMax = new Date(maxRange);\n        let dateInput = new Date(this.registerObj.birth);\n\n        if (dateInput === \"Invalid Date\") {\n          this.errorObj.birthErr.push(\"Invalid date input\");\n        }\n\n        if (dateInput.getTime() < dateMin.getTime() || dateInput.getTime() > dateMax.getTime()) {\n          this.errorObj.birthErr.push(\"Available birthday range is from pass 150 years to now\");\n        }\n      } // Gender validate\n\n\n      if (!this.registerObj.gender) {\n        this.errorObj.genderErr.push(\"Please select a gender\");\n      }\n    },\n\n    async handleSubmit(e) {\n      this.checkForm();\n\n      if (!this.checkEmptyErr()) {\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n        await this.getMatchUser(this.registerObj.email);\n\n        if (this.matchUser) {\n          this.errorObj.emailErr.push(\"Account already exist\");\n        } else {\n          let data = {\n            user_name: this.registerObj.name,\n            user_email: this.registerObj.email,\n            user_phone: this.registerObj.phone,\n            user_password: this.registerObj.pass,\n            user_birth: this.registerObj.birth,\n            user_gender: this.registerObj.gender\n          };\n          await axios.post(\"/users/\", data);\n          this.$router.push(\"/login\");\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","registerObj","email","pass","confirm","phone","birth","gender","errorObj","nameErr","emailErr","passErr","confirmErr","phoneErr","birthErr","genderErr","matchUser","undefined","methods","getMatchUser","get","scrollToTop","window","scrollTo","availableTime","now","Date","day","getDate","slice","currentMonth","getMonth","minRange","getFullYear","maxRange","document","getElementById","setAttribute","resetCheckErr","checkEmptyErr","typeErr","length","checkForm","push","test","replace","startsWith","getAttribute","dateMin","dateMax","dateInput","getTime","handleSubmit","e","preventDefault","user_name","user_email","user_phone","user_password","user_birth","user_gender","post","$router"],"sourceRoot":"","sources":["C:\\Users\\satwi\\Downloads\\temp\\restaurant-ordering-system\\frontend\\src\\pages\\Register.vue"],"sourcesContent":["<template>\r\n    <div class=\"register-container\">\r\n        <div class=\"register-form-container\">\r\n            <form id=\"registerForm\" @submit=\"handleSubmit\" novalidate autocomplete=\"off\">\r\n                <h3>Create your account</h3>\r\n                <div class=\"form-group\">\r\n                    <label for=\"uName\">Enter your name:\r\n                    </label>\r\n                    <input type=\"text\" name=\"uName\" placeholder=\"your full name\" id=\"uName\" class=\"form-control\"\r\n                        v-model=\"registerObj.name\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.nameErr.length > 0\">{{ errorObj.nameErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uEmail\">Enter your email:\r\n                    </label>\r\n                    <input type=\"email\" name=\"uEmail\" placeholder=\"example@gmail.com\" id=\"uEmail\" class=\"form-control\"\r\n                        v-model=\"registerObj.email\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.emailErr.length > 0\">{{ errorObj.emailErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPass\">Enter your password:\r\n                    </label>\r\n                    <input type=\"password\" name=\"uPass\" placeholder=\"enter your password\" id=\"uPass\"\r\n                        class=\"form-control\" v-model=\"registerObj.pass\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.passErr.length > 0\">{{ errorObj.passErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPassConfirm\">Check your password again:\r\n                    </label>\r\n                    <input type=\"password\" name=\"uPassConfirm\" placeholder=\"enter your password again\" id=\"uPassConfirm\"\r\n                        class=\"form-control\" v-model=\"registerObj.confirm\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.confirmErr.length > 0\">{{ errorObj.confirmErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPhone\">Enter your phone number:\r\n                    </label>\r\n                    <input type=\"tel\" name=\"uPhone\" placeholder=\"enter your phone number\" id=\"uPhone\"\r\n                        class=\"form-control\" v-model=\"registerObj.phone\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.phoneErr.length > 0\">{{ errorObj.phoneErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uBirth\">Enter your birthday:\r\n                    </label>\r\n                    <input type=\"date\" name=\"uBirth\" id=\"uBirth\" class=\"form-control\" @click=\"availableTime()\"\r\n                        v-model=\"registerObj.birth\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.birthErr.length > 0\">{{ errorObj.birthErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"\">Select your gender:\r\n                    </label>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"radio\" name=\"gender\" value=\"male\" id=\"genderMale\"\r\n                            v-model=\"registerObj.gender\" /><span>Male</span>\r\n                        <input type=\"radio\" name=\"gender\" value=\"female\" id=\"genderFemale\"\r\n                            v-model=\"registerObj.gender\" /><span>Female</span>\r\n                    </div>\r\n                    <p class=\"error-mess\" v-if=\"errorObj.genderErr.length > 0\">{{ errorObj.genderErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <input type=\"submit\" value=\"join us\" class=\"btn\" />\r\n                    <p>have an account? <router-link @click=\"scrollToTop()\" to=\"/login\">login</router-link>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: \"Register\",\r\n\r\n    data() {\r\n        return {\r\n            registerObj: { name: \"\", email: \"\", pass: \"\", confirm: \"\", phone: \"\", birth: \"\", gender: \"\" },\r\n            errorObj: { nameErr: [], emailErr: [], passErr: [], confirmErr: [], phoneErr: [], birthErr: [], genderErr: [] },\r\n            matchUser: undefined,\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async getMatchUser(email) {\r\n            let data = await axios.get('/users/' + email);\r\n            this.matchUser = data.data;\r\n        },\r\n\r\n        scrollToTop() {\r\n            window.scrollTo(0, 0);\r\n        },\r\n\r\n        availableTime: function () {\r\n            var now = new Date();\r\n            var day = (\"0\" + now.getDate()).slice(-2);\r\n            var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\r\n            var minRange = (now.getFullYear() - 150) + \"-\" + currentMonth + \"-\" + day;\r\n            var maxRange = now.getFullYear() + \"-\" + currentMonth + \"-\" + day;\r\n\r\n            document.getElementById(\"uBirth\").setAttribute(\"min\", minRange);\r\n            document.getElementById(\"uBirth\").setAttribute(\"max\", maxRange);\r\n        },\r\n\r\n        resetCheckErr: function () {\r\n            this.errorObj.nameErr = [];\r\n            this.errorObj.emailErr = [];\r\n            this.errorObj.passErr = [];\r\n            this.errorObj.confirmErr = [];\r\n            this.errorObj.phoneErr = [];\r\n            this.errorObj.birthErr = [];\r\n            this.errorObj.genderErr = [];\r\n        },\r\n\r\n        checkEmptyErr: function () {\r\n            for (var typeErr in this.errorObj) {\r\n                if (this.errorObj[typeErr].length != 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        checkForm: function () {\r\n            this.resetCheckErr();\r\n\r\n            // Name validate\r\n            if (!this.registerObj.name) {\r\n                this.errorObj.nameErr.push(\"Entering a name is required\");\r\n            }\r\n            else {\r\n                if (!/^[A-Za-z]+$/.test(this.registerObj.name.replace(/\\s/g, \"\"))) {\r\n                    this.errorObj.nameErr.push('A name can only contain letters');\r\n                }\r\n            }\r\n\r\n            // Email validate\r\n            if (!this.registerObj.email) {\r\n                this.errorObj.emailErr.push(\"Entering a email is required\");\r\n            }\r\n            else {\r\n                if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.registerObj.email)) {\r\n                    this.errorObj.emailErr.push('Email must be valid');\r\n                }\r\n            }\r\n\r\n            // Pass validate\r\n            if (!this.registerObj.pass) {\r\n                this.errorObj.passErr.push('Password is required');\r\n            }\r\n            else {\r\n                if (!/[!@#$%^&*]/.test(this.registerObj.pass)) {\r\n                    this.errorObj.passErr.push('Password must contain at least 1 special character');\r\n                }\r\n\r\n                if (this.registerObj.pass.length < 8) {\r\n                    this.errorObj.passErr.push('Password must be more than or equal 8 characters');\r\n                }\r\n            }\r\n\r\n            // Confirm Pass validate\r\n            if (!this.registerObj.confirm) {\r\n                this.errorObj.confirmErr.push('Confirm password is required');\r\n            }\r\n            else {\r\n                if (this.registerObj.pass !== this.registerObj.confirm) {\r\n                    this.errorObj.confirmErr.push('Confirm password must be match with password');\r\n                }\r\n            }\r\n\r\n\r\n            // Phone validate\r\n            if (!this.registerObj.phone) {\r\n                this.errorObj.phoneErr.push('Entering phone number is required');\r\n            }\r\n            else {\r\n                if (!this.registerObj.phone.startsWith('84')) {\r\n                    this.errorObj.phoneErr.push('Phone numbers must start with 84');\r\n                }\r\n\r\n                if (this.registerObj.phone.length != 11) {\r\n                    this.errorObj.phoneErr.push('Phone numbers must have exactly 11 digits');\r\n                }\r\n\r\n                if (!/[0-9]{11}/.test(this.registerObj.phone)) {\r\n                    this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\r\n                }\r\n            }\r\n\r\n            // Birth validate\r\n            if (!this.registerObj.birth) {\r\n                this.errorObj.birthErr.push(\"Entering birthday is required\");\r\n            }\r\n            else {\r\n                let minRange = document.getElementById(\"uBirth\").getAttribute(\"min\");\r\n                let maxRange = document.getElementById(\"uBirth\").getAttribute(\"max\");\r\n                let dateMin = new Date(minRange);\r\n                let dateMax = new Date(maxRange);\r\n                let dateInput = new Date(this.registerObj.birth);\r\n\r\n                if (dateInput === \"Invalid Date\") {\r\n                    this.errorObj.birthErr.push(\"Invalid date input\");\r\n                }\r\n\r\n                if (dateInput.getTime() < dateMin.getTime() || dateInput.getTime() > dateMax.getTime()) {\r\n                    this.errorObj.birthErr.push(\"Available birthday range is from pass 150 years to now\");\r\n                }\r\n            }\r\n\r\n            // Gender validate\r\n            if (!this.registerObj.gender) {\r\n                this.errorObj.genderErr.push(\"Please select a gender\");\r\n            }\r\n        },\r\n\r\n        async handleSubmit(e) {\r\n            this.checkForm();\r\n\r\n            if (!this.checkEmptyErr()) {\r\n                e.preventDefault();\r\n            } else {\r\n                e.preventDefault();\r\n                await this.getMatchUser(this.registerObj.email);\r\n                if (this.matchUser) {\r\n                    this.errorObj.emailErr.push(\"Account already exist\")\r\n                }\r\n                else {\r\n                    let data = {\r\n                        user_name: this.registerObj.name,\r\n                        user_email: this.registerObj.email,\r\n                        user_phone: this.registerObj.phone,\r\n                        user_password: this.registerObj.pass,\r\n                        user_birth: this.registerObj.birth,\r\n                        user_gender: this.registerObj.gender\r\n                    }\r\n                    await axios.post(\"/users/\", data);\r\n                    this.$router.push(\"/login\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.register-container {\r\n    padding: 2rem 9%;\r\n}\r\n\r\n.register-container .register-form-container {\r\n    background: #fff;\r\n\r\n}\r\n\r\n.register-container .register-form-container form {\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%, 0%);\r\n    max-width: 70rem;\r\n    width: 100%;\r\n    box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.05);\r\n    border: 0.1rem solid rgba(0, 0, 0, 0.2);\r\n    padding: 2rem;\r\n    border-radius: 0.5rem;\r\n    animation: fadeUp 0.4s linear;\r\n}\r\n\r\n.register-container .register-form-container form h3 {\r\n    padding-bottom: 1rem;\r\n    font-size: 2rem;\r\n    text-transform: uppercase;\r\n    color: #130f40;\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form .form-control {\r\n    margin: 0.7rem 0;\r\n    border-radius: 0.5rem;\r\n    background: #f7f7f7;\r\n    padding: 2rem 1.2rem;\r\n    font-size: 1.6rem;\r\n    color: #130f40;\r\n    text-transform: none;\r\n    width: 100%;\r\n    border: none;\r\n}\r\n\r\n.register-container .register-form-container form label {\r\n    font-size: 2rem;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.register-container .register-form-container form span {\r\n    font-size: 18px;\r\n    padding-left: 5px;\r\n    padding-right: 40px;\r\n}\r\n\r\n.register-container .register-form-container form .btn {\r\n    margin: 1rem 0;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n.register-container .register-form-container form p {\r\n    padding-top: 1rem;\r\n    font-size: 1.5rem;\r\n    color: #666;\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form p a {\r\n    color: #27ae60;\r\n}\r\n\r\n.register-container .register-form-container form p a:hover {\r\n    color: #130f40;\r\n    text-decoration: underline;\r\n}\r\n\r\n.register-container .register-form-container form .form-group {\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form .form-group .error-mess {\r\n    font-size: 1.5rem;\r\n    position: relative;\r\n    color: rgb(243, 47, 47);\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}