{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      registerObj: {\n        name: \"\",\n        email: \"\",\n        pass: \"\",\n        confirm: \"\",\n        phone: \"\",\n        birth: \"\",\n        gender: \"\"\n      },\n      errorObj: {\n        nameErr: [],\n        emailErr: [],\n        passErr: [],\n        confirmErr: [],\n        phoneErr: [],\n        birthErr: [],\n        genderErr: []\n      },\n      matchUser: undefined\n    };\n  },\n  methods: {\n    async getMatchUser(email) {\n      let data = await axios.get('/users/' + email);\n      this.matchUser = data.data;\n    },\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    },\n    availableTime: function () {\n      var now = new Date();\n      var day = (\"0\" + now.getDate()).slice(-2);\n      var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\n      var minRange = now.getFullYear() - 150 + \"-\" + currentMonth + \"-\" + day;\n      var maxRange = now.getFullYear() + \"-\" + currentMonth + \"-\" + day;\n      document.getElementById(\"uBirth\").setAttribute(\"min\", minRange);\n      document.getElementById(\"uBirth\").setAttribute(\"max\", maxRange);\n    },\n    resetCheckErr: function () {\n      this.errorObj.nameErr = [];\n      this.errorObj.emailErr = [];\n      this.errorObj.passErr = [];\n      this.errorObj.confirmErr = [];\n      this.errorObj.phoneErr = [];\n      this.errorObj.birthErr = [];\n      this.errorObj.genderErr = [];\n    },\n    checkEmptyErr: function () {\n      for (var typeErr in this.errorObj) {\n        if (this.errorObj[typeErr].length != 0) {\n          return false;\n        }\n      }\n      return true;\n    },\n    checkForm: function () {\n      this.resetCheckErr();\n\n      // Name validate\n      if (!this.registerObj.name) {\n        this.errorObj.nameErr.push(\"Entering a name is required\");\n      } else {\n        if (!/^[A-Za-z]+$/.test(this.registerObj.name.replace(/\\s/g, \"\"))) {\n          this.errorObj.nameErr.push('A name can only contain letters');\n        }\n      }\n\n      // Email validate\n      if (!this.registerObj.email) {\n        this.errorObj.emailErr.push(\"Entering a email is required\");\n      } else {\n        if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.registerObj.email)) {\n          this.errorObj.emailErr.push('Email must be valid');\n        }\n      }\n\n      // Pass validate\n      if (!this.registerObj.pass) {\n        this.errorObj.passErr.push('Password is required');\n      } else {\n        if (!/[!@#$%^&*]/.test(this.registerObj.pass)) {\n          this.errorObj.passErr.push('Password must contain at least 1 special character');\n        }\n        if (this.registerObj.pass.length < 8) {\n          this.errorObj.passErr.push('Password must be more than or equal 8 characters');\n        }\n      }\n\n      // Confirm Pass validate\n      if (!this.registerObj.confirm) {\n        this.errorObj.confirmErr.push('Confirm password is required');\n      } else {\n        if (this.registerObj.pass !== this.registerObj.confirm) {\n          this.errorObj.confirmErr.push('Confirm password must be match with password');\n        }\n      }\n\n      // Phone validate\n      if (!this.registerObj.phone) {\n        this.errorObj.phoneErr.push('Entering phone number is required');\n      } else {\n        if (!this.registerObj.phone.startsWith('84')) {\n          this.errorObj.phoneErr.push('Phone numbers must start with 84');\n        }\n        if (this.registerObj.phone.length != 11) {\n          this.errorObj.phoneErr.push('Phone numbers must have exactly 11 digits');\n        }\n        if (!/[0-9]{11}/.test(this.registerObj.phone)) {\n          this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\n        }\n      }\n\n      // Birth validate\n      if (!this.registerObj.birth) {\n        this.errorObj.birthErr.push(\"Entering birthday is required\");\n      } else {\n        let minRange = document.getElementById(\"uBirth\").getAttribute(\"min\");\n        let maxRange = document.getElementById(\"uBirth\").getAttribute(\"max\");\n        let dateMin = new Date(minRange);\n        let dateMax = new Date(maxRange);\n        let dateInput = new Date(this.registerObj.birth);\n        if (dateInput === \"Invalid Date\") {\n          this.errorObj.birthErr.push(\"Invalid date input\");\n        }\n        if (dateInput.getTime() < dateMin.getTime() || dateInput.getTime() > dateMax.getTime()) {\n          this.errorObj.birthErr.push(\"Available birthday range is from pass 150 years to now\");\n        }\n      }\n\n      // Gender validate\n      if (!this.registerObj.gender) {\n        this.errorObj.genderErr.push(\"Please select a gender\");\n      }\n    },\n    async handleSubmit(e) {\n      this.checkForm();\n      if (!this.checkEmptyErr()) {\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n        await this.getMatchUser(this.registerObj.email);\n        if (this.matchUser) {\n          this.errorObj.emailErr.push(\"Account already exist\");\n        } else {\n          let data = {\n            user_name: this.registerObj.name,\n            user_email: this.registerObj.email,\n            user_phone: this.registerObj.phone,\n            user_password: this.registerObj.pass,\n            user_birth: this.registerObj.birth,\n            user_gender: this.registerObj.gender\n          };\n          await axios.post(\"/users/\", data);\n          this.$router.push(\"/login\");\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AA4EA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAI,EAAE,UAAU;EAEhBC,IAAIA,GAAG;IACH,OAAO;MACHC,WAAW,EAAE;QAAEF,IAAI,EAAE,EAAE;QAAEG,KAAK,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAG,CAAC;MAC7FC,QAAQ,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAC;MAC/GC,SAAS,EAAEC;IAEf;EACJ,CAAC;EAEDC,OAAO,EAAE;IACL,MAAMC,YAAYA,CAACjB,KAAK,EAAE;MACtB,IAAIF,IAAG,GAAI,MAAMF,KAAK,CAACsB,GAAG,CAAC,SAAQ,GAAIlB,KAAK,CAAC;MAC7C,IAAI,CAACc,SAAQ,GAAIhB,IAAI,CAACA,IAAI;IAC9B,CAAC;IAEDqB,WAAWA,GAAG;MACVC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACzB,CAAC;IAEDC,aAAa,EAAE,YAAY;MACvB,IAAIC,GAAE,GAAI,IAAIC,IAAI,CAAC,CAAC;MACpB,IAAIC,GAAE,GAAI,CAAC,GAAE,GAAIF,GAAG,CAACG,OAAO,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;MACzC,IAAIC,YAAW,GAAI,CAAC,GAAE,IAAKL,GAAG,CAACM,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;MACzD,IAAIG,QAAO,GAAKP,GAAG,CAACQ,WAAW,CAAC,IAAI,GAAG,GAAI,GAAE,GAAIH,YAAW,GAAI,GAAE,GAAIH,GAAG;MACzE,IAAIO,QAAO,GAAIT,GAAG,CAACQ,WAAW,CAAC,IAAI,GAAE,GAAIH,YAAW,GAAI,GAAE,GAAIH,GAAG;MAEjEQ,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAACC,YAAY,CAAC,KAAK,EAAEL,QAAQ,CAAC;MAC/DG,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAACC,YAAY,CAAC,KAAK,EAAEH,QAAQ,CAAC;IACnE,CAAC;IAEDI,aAAa,EAAE,YAAY;MACvB,IAAI,CAAC9B,QAAQ,CAACC,OAAM,GAAI,EAAE;MAC1B,IAAI,CAACD,QAAQ,CAACE,QAAO,GAAI,EAAE;MAC3B,IAAI,CAACF,QAAQ,CAACG,OAAM,GAAI,EAAE;MAC1B,IAAI,CAACH,QAAQ,CAACI,UAAS,GAAI,EAAE;MAC7B,IAAI,CAACJ,QAAQ,CAACK,QAAO,GAAI,EAAE;MAC3B,IAAI,CAACL,QAAQ,CAACM,QAAO,GAAI,EAAE;MAC3B,IAAI,CAACN,QAAQ,CAACO,SAAQ,GAAI,EAAE;IAChC,CAAC;IAEDwB,aAAa,EAAE,YAAY;MACvB,KAAK,IAAIC,OAAM,IAAK,IAAI,CAAChC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAACA,QAAQ,CAACgC,OAAO,CAAC,CAACC,MAAK,IAAK,CAAC,EAAE;UACpC,OAAO,KAAK;QAChB;MACJ;MACA,OAAO,IAAI;IACf,CAAC;IAEDC,SAAS,EAAE,YAAY;MACnB,IAAI,CAACJ,aAAa,CAAC,CAAC;;MAEpB;MACA,IAAI,CAAC,IAAI,CAACrC,WAAW,CAACF,IAAI,EAAE;QACxB,IAAI,CAACS,QAAQ,CAACC,OAAO,CAACkC,IAAI,CAAC,6BAA6B,CAAC;MAC7D,OACK;QACD,IAAI,CAAC,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC3C,WAAW,CAACF,IAAI,CAAC8C,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE;UAC/D,IAAI,CAACrC,QAAQ,CAACC,OAAO,CAACkC,IAAI,CAAC,iCAAiC,CAAC;QACjE;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACC,KAAK,EAAE;QACzB,IAAI,CAACM,QAAQ,CAACE,QAAQ,CAACiC,IAAI,CAAC,8BAA8B,CAAC;MAC/D,OACK;QACD,IAAI,CAAC,yCAAyC,CAACC,IAAI,CAAC,IAAI,CAAC3C,WAAW,CAACC,KAAK,CAAC,EAAE;UACzE,IAAI,CAACM,QAAQ,CAACE,QAAQ,CAACiC,IAAI,CAAC,qBAAqB,CAAC;QACtD;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACE,IAAI,EAAE;QACxB,IAAI,CAACK,QAAQ,CAACG,OAAO,CAACgC,IAAI,CAAC,sBAAsB,CAAC;MACtD,OACK;QACD,IAAI,CAAC,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC3C,WAAW,CAACE,IAAI,CAAC,EAAE;UAC3C,IAAI,CAACK,QAAQ,CAACG,OAAO,CAACgC,IAAI,CAAC,oDAAoD,CAAC;QACpF;QAEA,IAAI,IAAI,CAAC1C,WAAW,CAACE,IAAI,CAACsC,MAAK,GAAI,CAAC,EAAE;UAClC,IAAI,CAACjC,QAAQ,CAACG,OAAO,CAACgC,IAAI,CAAC,kDAAkD,CAAC;QAClF;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACG,OAAO,EAAE;QAC3B,IAAI,CAACI,QAAQ,CAACI,UAAU,CAAC+B,IAAI,CAAC,8BAA8B,CAAC;MACjE,OACK;QACD,IAAI,IAAI,CAAC1C,WAAW,CAACE,IAAG,KAAM,IAAI,CAACF,WAAW,CAACG,OAAO,EAAE;UACpD,IAAI,CAACI,QAAQ,CAACI,UAAU,CAAC+B,IAAI,CAAC,8CAA8C,CAAC;QACjF;MACJ;;MAGA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACI,KAAK,EAAE;QACzB,IAAI,CAACG,QAAQ,CAACK,QAAQ,CAAC8B,IAAI,CAAC,mCAAmC,CAAC;MACpE,OACK;QACD,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACI,KAAK,CAACyC,UAAU,CAAC,IAAI,CAAC,EAAE;UAC1C,IAAI,CAACtC,QAAQ,CAACK,QAAQ,CAAC8B,IAAI,CAAC,kCAAkC,CAAC;QACnE;QAEA,IAAI,IAAI,CAAC1C,WAAW,CAACI,KAAK,CAACoC,MAAK,IAAK,EAAE,EAAE;UACrC,IAAI,CAACjC,QAAQ,CAACK,QAAQ,CAAC8B,IAAI,CAAC,2CAA2C,CAAC;QAC5E;QAEA,IAAI,CAAC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC3C,WAAW,CAACI,KAAK,CAAC,EAAE;UAC3C,IAAI,CAACG,QAAQ,CAACK,QAAQ,CAAC8B,IAAI,CAAC,wCAAwC,CAAC;QACzE;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACK,KAAK,EAAE;QACzB,IAAI,CAACE,QAAQ,CAACM,QAAQ,CAAC6B,IAAI,CAAC,+BAA+B,CAAC;MAChE,OACK;QACD,IAAIX,QAAO,GAAIG,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAACW,YAAY,CAAC,KAAK,CAAC;QACpE,IAAIb,QAAO,GAAIC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAACW,YAAY,CAAC,KAAK,CAAC;QACpE,IAAIC,OAAM,GAAI,IAAItB,IAAI,CAACM,QAAQ,CAAC;QAChC,IAAIiB,OAAM,GAAI,IAAIvB,IAAI,CAACQ,QAAQ,CAAC;QAChC,IAAIgB,SAAQ,GAAI,IAAIxB,IAAI,CAAC,IAAI,CAACzB,WAAW,CAACK,KAAK,CAAC;QAEhD,IAAI4C,SAAQ,KAAM,cAAc,EAAE;UAC9B,IAAI,CAAC1C,QAAQ,CAACM,QAAQ,CAAC6B,IAAI,CAAC,oBAAoB,CAAC;QACrD;QAEA,IAAIO,SAAS,CAACC,OAAO,CAAC,IAAIH,OAAO,CAACG,OAAO,CAAC,KAAKD,SAAS,CAACC,OAAO,CAAC,IAAIF,OAAO,CAACE,OAAO,CAAC,CAAC,EAAE;UACpF,IAAI,CAAC3C,QAAQ,CAACM,QAAQ,CAAC6B,IAAI,CAAC,wDAAwD,CAAC;QACzF;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACM,MAAM,EAAE;QAC1B,IAAI,CAACC,QAAQ,CAACO,SAAS,CAAC4B,IAAI,CAAC,wBAAwB,CAAC;MAC1D;IACJ,CAAC;IAED,MAAMS,YAAYA,CAACC,CAAC,EAAE;MAClB,IAAI,CAACX,SAAS,CAAC,CAAC;MAEhB,IAAI,CAAC,IAAI,CAACH,aAAa,CAAC,CAAC,EAAE;QACvBc,CAAC,CAACC,cAAc,CAAC,CAAC;MACtB,OAAO;QACHD,CAAC,CAACC,cAAc,CAAC,CAAC;QAClB,MAAM,IAAI,CAACnC,YAAY,CAAC,IAAI,CAAClB,WAAW,CAACC,KAAK,CAAC;QAC/C,IAAI,IAAI,CAACc,SAAS,EAAE;UAChB,IAAI,CAACR,QAAQ,CAACE,QAAQ,CAACiC,IAAI,CAAC,uBAAuB;QACvD,OACK;UACD,IAAI3C,IAAG,GAAI;YACPuD,SAAS,EAAE,IAAI,CAACtD,WAAW,CAACF,IAAI;YAChCyD,UAAU,EAAE,IAAI,CAACvD,WAAW,CAACC,KAAK;YAClCuD,UAAU,EAAE,IAAI,CAACxD,WAAW,CAACI,KAAK;YAClCqD,aAAa,EAAE,IAAI,CAACzD,WAAW,CAACE,IAAI;YACpCwD,UAAU,EAAE,IAAI,CAAC1D,WAAW,CAACK,KAAK;YAClCsD,WAAW,EAAE,IAAI,CAAC3D,WAAW,CAACM;UAClC;UACA,MAAMT,KAAK,CAAC+D,IAAI,CAAC,SAAS,EAAE7D,IAAI,CAAC;UACjC,IAAI,CAAC8D,OAAO,CAACnB,IAAI,CAAC,QAAQ,CAAC;QAC/B;MACJ;IACJ;EACJ;AAEJ,CAAC","names":["axios","name","data","registerObj","email","pass","confirm","phone","birth","gender","errorObj","nameErr","emailErr","passErr","confirmErr","phoneErr","birthErr","genderErr","matchUser","undefined","methods","getMatchUser","get","scrollToTop","window","scrollTo","availableTime","now","Date","day","getDate","slice","currentMonth","getMonth","minRange","getFullYear","maxRange","document","getElementById","setAttribute","resetCheckErr","checkEmptyErr","typeErr","length","checkForm","push","test","replace","startsWith","getAttribute","dateMin","dateMax","dateInput","getTime","handleSubmit","e","preventDefault","user_name","user_email","user_phone","user_password","user_birth","user_gender","post","$router"],"sourceRoot":"","sources":["C:\\Users\\satwi\\Downloads\\temp\\restaurant-ordering-system\\frontend\\src\\pages\\Register.vue"],"sourcesContent":["<template>\r\n    <div class=\"register-container\">\r\n        <div class=\"register-form-container\">\r\n            <form id=\"registerForm\" @submit=\"handleSubmit\" novalidate autocomplete=\"off\">\r\n                <h3>Create your account</h3>\r\n                <div class=\"form-group\">\r\n                    <label for=\"uName\">Enter your name:\r\n                    </label>\r\n                    <input type=\"text\" name=\"uName\" placeholder=\"your full name\" id=\"uName\" class=\"form-control\"\r\n                        v-model=\"registerObj.name\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.nameErr.length > 0\">{{ errorObj.nameErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uEmail\">Enter your email:\r\n                    </label>\r\n                    <input type=\"email\" name=\"uEmail\" placeholder=\"example@gmail.com\" id=\"uEmail\" class=\"form-control\"\r\n                        v-model=\"registerObj.email\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.emailErr.length > 0\">{{ errorObj.emailErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPass\">Enter your password:\r\n                    </label>\r\n                    <input type=\"password\" name=\"uPass\" placeholder=\"enter your password\" id=\"uPass\"\r\n                        class=\"form-control\" v-model=\"registerObj.pass\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.passErr.length > 0\">{{ errorObj.passErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPassConfirm\">Check your password again:\r\n                    </label>\r\n                    <input type=\"password\" name=\"uPassConfirm\" placeholder=\"enter your password again\" id=\"uPassConfirm\"\r\n                        class=\"form-control\" v-model=\"registerObj.confirm\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.confirmErr.length > 0\">{{ errorObj.confirmErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uPhone\">Enter your phone number:\r\n                    </label>\r\n                    <input type=\"tel\" name=\"uPhone\" placeholder=\"enter your phone number\" id=\"uPhone\"\r\n                        class=\"form-control\" v-model=\"registerObj.phone\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.phoneErr.length > 0\">{{ errorObj.phoneErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"uBirth\">Enter your birthday:\r\n                    </label>\r\n                    <input type=\"date\" name=\"uBirth\" id=\"uBirth\" class=\"form-control\" @click=\"availableTime()\"\r\n                        v-model=\"registerObj.birth\" />\r\n                    <p class=\"error-mess\" v-if=\"errorObj.birthErr.length > 0\">{{ errorObj.birthErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"\">Select your gender:\r\n                    </label>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"radio\" name=\"gender\" value=\"male\" id=\"genderMale\"\r\n                            v-model=\"registerObj.gender\" /><span>Male</span>\r\n                        <input type=\"radio\" name=\"gender\" value=\"female\" id=\"genderFemale\"\r\n                            v-model=\"registerObj.gender\" /><span>Female</span>\r\n                    </div>\r\n                    <p class=\"error-mess\" v-if=\"errorObj.genderErr.length > 0\">{{ errorObj.genderErr[0] }}</p>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <input type=\"submit\" value=\"join us\" class=\"btn\" />\r\n                    <p>have an account? <router-link @click=\"scrollToTop()\" to=\"/login\">login</router-link>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: \"Register\",\r\n\r\n    data() {\r\n        return {\r\n            registerObj: { name: \"\", email: \"\", pass: \"\", confirm: \"\", phone: \"\", birth: \"\", gender: \"\" },\r\n            errorObj: { nameErr: [], emailErr: [], passErr: [], confirmErr: [], phoneErr: [], birthErr: [], genderErr: [] },\r\n            matchUser: undefined,\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async getMatchUser(email) {\r\n            let data = await axios.get('/users/' + email);\r\n            this.matchUser = data.data;\r\n        },\r\n\r\n        scrollToTop() {\r\n            window.scrollTo(0, 0);\r\n        },\r\n\r\n        availableTime: function () {\r\n            var now = new Date();\r\n            var day = (\"0\" + now.getDate()).slice(-2);\r\n            var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\r\n            var minRange = (now.getFullYear() - 150) + \"-\" + currentMonth + \"-\" + day;\r\n            var maxRange = now.getFullYear() + \"-\" + currentMonth + \"-\" + day;\r\n\r\n            document.getElementById(\"uBirth\").setAttribute(\"min\", minRange);\r\n            document.getElementById(\"uBirth\").setAttribute(\"max\", maxRange);\r\n        },\r\n\r\n        resetCheckErr: function () {\r\n            this.errorObj.nameErr = [];\r\n            this.errorObj.emailErr = [];\r\n            this.errorObj.passErr = [];\r\n            this.errorObj.confirmErr = [];\r\n            this.errorObj.phoneErr = [];\r\n            this.errorObj.birthErr = [];\r\n            this.errorObj.genderErr = [];\r\n        },\r\n\r\n        checkEmptyErr: function () {\r\n            for (var typeErr in this.errorObj) {\r\n                if (this.errorObj[typeErr].length != 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        checkForm: function () {\r\n            this.resetCheckErr();\r\n\r\n            // Name validate\r\n            if (!this.registerObj.name) {\r\n                this.errorObj.nameErr.push(\"Entering a name is required\");\r\n            }\r\n            else {\r\n                if (!/^[A-Za-z]+$/.test(this.registerObj.name.replace(/\\s/g, \"\"))) {\r\n                    this.errorObj.nameErr.push('A name can only contain letters');\r\n                }\r\n            }\r\n\r\n            // Email validate\r\n            if (!this.registerObj.email) {\r\n                this.errorObj.emailErr.push(\"Entering a email is required\");\r\n            }\r\n            else {\r\n                if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.registerObj.email)) {\r\n                    this.errorObj.emailErr.push('Email must be valid');\r\n                }\r\n            }\r\n\r\n            // Pass validate\r\n            if (!this.registerObj.pass) {\r\n                this.errorObj.passErr.push('Password is required');\r\n            }\r\n            else {\r\n                if (!/[!@#$%^&*]/.test(this.registerObj.pass)) {\r\n                    this.errorObj.passErr.push('Password must contain at least 1 special character');\r\n                }\r\n\r\n                if (this.registerObj.pass.length < 8) {\r\n                    this.errorObj.passErr.push('Password must be more than or equal 8 characters');\r\n                }\r\n            }\r\n\r\n            // Confirm Pass validate\r\n            if (!this.registerObj.confirm) {\r\n                this.errorObj.confirmErr.push('Confirm password is required');\r\n            }\r\n            else {\r\n                if (this.registerObj.pass !== this.registerObj.confirm) {\r\n                    this.errorObj.confirmErr.push('Confirm password must be match with password');\r\n                }\r\n            }\r\n\r\n\r\n            // Phone validate\r\n            if (!this.registerObj.phone) {\r\n                this.errorObj.phoneErr.push('Entering phone number is required');\r\n            }\r\n            else {\r\n                if (!this.registerObj.phone.startsWith('84')) {\r\n                    this.errorObj.phoneErr.push('Phone numbers must start with 84');\r\n                }\r\n\r\n                if (this.registerObj.phone.length != 11) {\r\n                    this.errorObj.phoneErr.push('Phone numbers must have exactly 11 digits');\r\n                }\r\n\r\n                if (!/[0-9]{11}/.test(this.registerObj.phone)) {\r\n                    this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\r\n                }\r\n            }\r\n\r\n            // Birth validate\r\n            if (!this.registerObj.birth) {\r\n                this.errorObj.birthErr.push(\"Entering birthday is required\");\r\n            }\r\n            else {\r\n                let minRange = document.getElementById(\"uBirth\").getAttribute(\"min\");\r\n                let maxRange = document.getElementById(\"uBirth\").getAttribute(\"max\");\r\n                let dateMin = new Date(minRange);\r\n                let dateMax = new Date(maxRange);\r\n                let dateInput = new Date(this.registerObj.birth);\r\n\r\n                if (dateInput === \"Invalid Date\") {\r\n                    this.errorObj.birthErr.push(\"Invalid date input\");\r\n                }\r\n\r\n                if (dateInput.getTime() < dateMin.getTime() || dateInput.getTime() > dateMax.getTime()) {\r\n                    this.errorObj.birthErr.push(\"Available birthday range is from pass 150 years to now\");\r\n                }\r\n            }\r\n\r\n            // Gender validate\r\n            if (!this.registerObj.gender) {\r\n                this.errorObj.genderErr.push(\"Please select a gender\");\r\n            }\r\n        },\r\n\r\n        async handleSubmit(e) {\r\n            this.checkForm();\r\n\r\n            if (!this.checkEmptyErr()) {\r\n                e.preventDefault();\r\n            } else {\r\n                e.preventDefault();\r\n                await this.getMatchUser(this.registerObj.email);\r\n                if (this.matchUser) {\r\n                    this.errorObj.emailErr.push(\"Account already exist\")\r\n                }\r\n                else {\r\n                    let data = {\r\n                        user_name: this.registerObj.name,\r\n                        user_email: this.registerObj.email,\r\n                        user_phone: this.registerObj.phone,\r\n                        user_password: this.registerObj.pass,\r\n                        user_birth: this.registerObj.birth,\r\n                        user_gender: this.registerObj.gender\r\n                    }\r\n                    await axios.post(\"/users/\", data);\r\n                    this.$router.push(\"/login\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.register-container {\r\n    padding: 2rem 9%;\r\n}\r\n\r\n.register-container .register-form-container {\r\n    background: #fff;\r\n\r\n}\r\n\r\n.register-container .register-form-container form {\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%, 0%);\r\n    max-width: 70rem;\r\n    width: 100%;\r\n    box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.05);\r\n    border: 0.1rem solid rgba(0, 0, 0, 0.2);\r\n    padding: 2rem;\r\n    border-radius: 0.5rem;\r\n    animation: fadeUp 0.4s linear;\r\n}\r\n\r\n.register-container .register-form-container form h3 {\r\n    padding-bottom: 1rem;\r\n    font-size: 2rem;\r\n    text-transform: uppercase;\r\n    color: #130f40;\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form .form-control {\r\n    margin: 0.7rem 0;\r\n    border-radius: 0.5rem;\r\n    background: #f7f7f7;\r\n    padding: 2rem 1.2rem;\r\n    font-size: 1.6rem;\r\n    color: #130f40;\r\n    text-transform: none;\r\n    width: 100%;\r\n    border: none;\r\n}\r\n\r\n.register-container .register-form-container form label {\r\n    font-size: 2rem;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.register-container .register-form-container form span {\r\n    font-size: 18px;\r\n    padding-left: 5px;\r\n    padding-right: 40px;\r\n}\r\n\r\n.register-container .register-form-container form .btn {\r\n    margin: 1rem 0;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n.register-container .register-form-container form p {\r\n    padding-top: 1rem;\r\n    font-size: 1.5rem;\r\n    color: #666;\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form p a {\r\n    color: #27ae60;\r\n}\r\n\r\n.register-container .register-form-container form p a:hover {\r\n    color: #130f40;\r\n    text-decoration: underline;\r\n}\r\n\r\n.register-container .register-form-container form .form-group {\r\n    margin: 0;\r\n}\r\n\r\n.register-container .register-form-container form .form-group .error-mess {\r\n    font-size: 1.5rem;\r\n    position: relative;\r\n    color: rgb(243, 47, 47);\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}